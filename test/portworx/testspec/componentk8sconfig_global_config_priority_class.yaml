apiVersion: core.libopenstorage.org/v1
kind: ComponentK8sConfig
metadata:
  name: portworx-k8s-config
  namespace: portworx
spec:
  globalConfig:
    annotations:
      global-annotation: "true"
    labels:
      global-label: global-value
    placement:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: px/enabled
              operator: NotIn
              values:
              - "false"
      tolerations:
      - key: global-key
        operator: Exists
    priorityClass: system-cluster-critical
  components:
  - componentNames:
    - Autopilot
    workloadConfigs:
    - annotations:
        workload-annotation: "true"
      labels:
        workload-label: workload-value
      priorityClass: autopilot-priority
      workloadNames:
      - autopilot

